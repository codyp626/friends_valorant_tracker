<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/" />
    <link rel="stylesheet" href="bootstrap/bootstrap.min.css" />
    <link href="FriendsTracker.styles.css" rel="stylesheet">
    <link rel="stylesheet" href="app.css" />

    @* FAVICON IMPORT *@
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#212121">

    @* FONT IMPORT *@
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    @* <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> *@

    <HeadOutlet />
</head>

<body>
    <Routes @rendermode="new InteractiveServerRenderMode(false)" />
    <script src="_framework/blazor.web.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        function renderGraph(elementId, data)
        {
            console.log("renderGraph called");
            var ctx = document.getElementById(elementId).getContext('2d');
            var labels = data.map(item => new Date(item.date * 1000)); // Convert epoch to JavaScript date
            var elo = data.map(item => item.elo);
            new Chart
                (ctx,
                    {
                        type: 'line',
                        data:
                        {
                            labels: labels,
                            datasets: [{
                                label: 'Elo',
                                data: elo,
                                borderColor: 'rgba(75, 192, 192, 1)',
                                borderWidth: 1,
                                fill: false
                            }]
                        },
                        options:
                        {
                            scales: {
                                x: 
                                {
                                    type: 'time',
                                    time: 
                                    {
                                        unit: 'day'
                                    },
                                    title: 
                                    {
                                        display: true,
                                        text: 'Date'
                                    }
                                },
                                y: 
                                {
                                    title: 
                                    {
                                        display: true,
                                        text: 'Elo'
                                    }
                                }
                            },
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    }

                );
            
        }
    </script>

</body>

</html>
